{"ast":null,"code":"const analogicType = {\n  0: {\n    id: \"Left analogic\",\n    direction: {\n      0: \"left\",\n      //if value < 0\n      1: \"right\" // if value > 0\n\n    }\n  },\n  1: {\n    id: \"Left analogic\",\n    direction: {\n      0: \"up\",\n      //if value < 0\n      1: \"down\" // if value > 0\n\n    }\n  },\n  2: {\n    id: \"Right analogic\",\n    direction: {\n      0: \"left\",\n      //if value < 0\n      1: \"right\" // if value > 0\n\n    }\n  },\n  3: {\n    id: \"Right analogic\",\n    direction: {\n      0: \"up\",\n      //if value < 0\n      1: \"down\" // if value > 0\n\n    }\n  }\n};\nlet gamepadInput = null;\n\nconst gamepadEvent = (gamepad, callback) => {\n  const gamepadIndex = gamepad.index;\n  setInterval(() => {\n    if (gamepadIndex !== undefined) {\n      // a gamepad is connected and has an index\n      const myGamepad = navigator.getGamepads()[gamepadIndex];\n\n      if (myGamepad) {\n        myGamepad.buttons.map(e => e.pressed).forEach((isPressed, buttonIndex) => {\n          if (isPressed) {\n            gamepadInput = {\n              typeInput: \"button\",\n              gamepad: myGamepad.id,\n              buttonPressed: buttonIndex\n            };\n          }\n        });\n        myGamepad.axes.map((e, index) => {\n          let tempvalue = e.toString() * 100;\n\n          if (tempvalue > 20 || tempvalue < -20) {\n            let direction = tempvalue > 0 ? analogicType[index].direction[1] : analogicType[index].direction[0];\n            gamepadInput = {\n              typeInput: \"analogic\",\n              gamepad: myGamepad.id,\n              direction: direction,\n              percentualeMovement: tempvalue\n            };\n          }\n\n          return null;\n        });\n      }\n    }\n  }, 100);\n};\n\nconst git = (limit, callback) => {\n  var i = 0;\n  return new Promise(function (resolve) {\n    var git = setInterval(function () {\n      console.log(i);\n\n      if (i === limit - 1) {\n        clearInterval(git);\n        resolve('done');\n      }\n\n      i++;\n    }, 800);\n  });\n};\n\nexport { gamepadEvent, gamepadInput, git };","map":{"version":3,"sources":["C:/Users/markm/OneDrive/Desktop/gamedeveloper/react-game/src/game-tools/utils/hooks/gamepad-press/utils/gameInputEvent.js"],"names":["analogicType","id","direction","gamepadInput","gamepadEvent","gamepad","callback","gamepadIndex","index","setInterval","undefined","myGamepad","navigator","getGamepads","buttons","map","e","pressed","forEach","isPressed","buttonIndex","typeInput","buttonPressed","axes","tempvalue","toString","percentualeMovement","git","limit","i","Promise","resolve","console","log","clearInterval"],"mappings":"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","sourcesContent":["\r\nconst analogicType = {\r\n    0: {\r\n        id: \"Left analogic\",\r\n        direction: {\r\n            0: \"left\", //if value < 0\r\n            1: \"right\" // if value > 0\r\n        }\r\n    },\r\n    1: {\r\n        id: \"Left analogic\",\r\n        direction: {\r\n            0: \"up\", //if value < 0\r\n            1: \"down\" // if value > 0\r\n        }\r\n    },\r\n    2: {\r\n        id: \"Right analogic\",\r\n        direction: {\r\n            0: \"left\", //if value < 0\r\n            1: \"right\" // if value > 0\r\n        }\r\n    },\r\n    3: {\r\n        id: \"Right analogic\",\r\n        direction: {\r\n            0: \"up\", //if value < 0\r\n            1: \"down\" // if value > 0\r\n        }\r\n    }\r\n}\r\nlet gamepadInput = null;\r\n\r\n\r\nconst gamepadEvent = (gamepad, callback) => {\r\n\r\n    const gamepadIndex = gamepad.index;\r\n\r\n    setInterval(() => {\r\n        if(gamepadIndex !== undefined) {\r\n            // a gamepad is connected and has an index\r\n            const myGamepad = navigator.getGamepads()[gamepadIndex];\r\n            if(myGamepad){\r\n                myGamepad.buttons.map(e => e.pressed).forEach((isPressed, buttonIndex) => {\r\n                    if(isPressed) {\r\n                        gamepadInput = {\r\n                            typeInput: \"button\",\r\n                            gamepad: myGamepad.id ,\r\n                            buttonPressed: buttonIndex\r\n                        }\r\n                    }\r\n                })\r\n\r\n                myGamepad.axes.map((e , index) => {\r\n                    let tempvalue = e.toString()*100;\r\n                    if(tempvalue > 20 || tempvalue < -20){\r\n                        let direction = (tempvalue > 0)? analogicType[index].direction[1] : analogicType[index].direction[0];\r\n                        gamepadInput = {\r\n                            typeInput: \"analogic\",\r\n                            gamepad: myGamepad.id ,\r\n                            direction: direction,\r\n                            percentualeMovement: tempvalue\r\n                        }\r\n                    }\r\n                    return null;\r\n                });\r\n            }\r\n\r\n        }\r\n    }, 100);\r\n\r\n\r\n}\r\n\r\n\r\nconst git = (limit, callback) => {\r\n    var i = 0;\r\n    return new Promise(function (resolve) {\r\n        var git = setInterval(function () {\r\n            console.log(i);\r\n            if (i === limit - 1) {\r\n                clearInterval(git);\r\n                resolve('done');\r\n            }\r\n            i++;\r\n        }, 800);\r\n    });\r\n}\r\n\r\n\r\nexport {gamepadEvent, gamepadInput, git}\r\n"]},"metadata":{},"sourceType":"module"}