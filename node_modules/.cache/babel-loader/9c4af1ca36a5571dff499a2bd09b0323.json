{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nexport default function useMovement(maxMovement) {\n  _s();\n\n  const [dir, setDir] = useState(0);\n  const [position, setPosition] = useState(0);\n  const [movement, setMovement] = useState(0);\n  const directions = {\n    up: 0,\n    left: 1,\n    right: 2,\n    down: 3\n  };\n  const movementsSize = 16;\n  const modifier = {\n    up: {\n      x: 0,\n      y: movementsSize\n    },\n    left: {\n      x: -movementsSize,\n      y: 0\n    },\n    right: {\n      x: 0,\n      movementsSize\n    },\n    down: {\n      x: 0,\n      y: -movementsSize\n    }\n  };\n\n  function movements(dir) {\n    setDir(prev => {\n      if (directions[dir] === prev) move(dir);\n      return directions[dir];\n    });\n    setMovement(prev => prev < maxMovement - 1 ? prev + 1 : 0);\n  }\n\n  function move(dir) {\n    setPosition(prev => ({\n      x: prev.x + modifier[dir].x,\n      y: prev.y + modifier[dir].y\n    }));\n  }\n\n  return {\n    movements,\n    dir,\n    movement,\n    position\n  };\n}\n\n_s(useMovement, \"Mn9cuZey5zsfHD4NTS3aMlDPvac=\");","map":{"version":3,"sources":["C:/Users/markm/OneDrive/Desktop/gamedeveloper/react-game/src/game-tools/utils/hooks/movement/useMovement.js"],"names":["useState","useMovement","maxMovement","dir","setDir","position","setPosition","movement","setMovement","directions","up","left","right","down","movementsSize","modifier","x","y","movements","prev","move"],"mappings":";;AAAA,SAAQA,QAAR,QAAuB,OAAvB;AAGA,eAAe,SAASC,WAAT,CAAqBC,WAArB,EAAiC;AAAA;;AAC5C,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBJ,QAAQ,CAAC,CAAD,CAA9B;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,CAAD,CAAxC;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,CAAD,CAAxC;AAEA,QAAMS,UAAU,GAAG;AACfC,IAAAA,EAAE,EAAE,CADW;AAEfC,IAAAA,IAAI,EAAE,CAFS;AAGfC,IAAAA,KAAK,EAAE,CAHQ;AAIfC,IAAAA,IAAI,EAAE;AAJS,GAAnB;AAOA,QAAMC,aAAa,GAAG,EAAtB;AAEA,QAAMC,QAAQ,GAAG;AACbL,IAAAA,EAAE,EAAC;AACCM,MAAAA,CAAC,EAAC,CADH;AACMC,MAAAA,CAAC,EAAEH;AADT,KADU;AAIbH,IAAAA,IAAI,EAAE;AACFK,MAAAA,CAAC,EAAC,CAACF,aADD;AACgBG,MAAAA,CAAC,EAAE;AADnB,KAJO;AAObL,IAAAA,KAAK,EAAE;AACHI,MAAAA,CAAC,EAAC,CADC;AACEF,MAAAA;AADF,KAPM;AAUbD,IAAAA,IAAI,EAAE;AACFG,MAAAA,CAAC,EAAC,CADA;AACGC,MAAAA,CAAC,EAAC,CAACH;AADN;AAVO,GAAjB;;AAeA,WAASI,SAAT,CAAmBf,GAAnB,EAAuB;AACnBC,IAAAA,MAAM,CAACe,IAAI,IAAI;AACX,UAAGV,UAAU,CAACN,GAAD,CAAV,KAAoBgB,IAAvB,EAA6BC,IAAI,CAACjB,GAAD,CAAJ;AAC7B,aAAOM,UAAU,CAACN,GAAD,CAAjB;AACH,KAHK,CAAN;AAIAK,IAAAA,WAAW,CAACW,IAAI,IAAIA,IAAI,GAACjB,WAAW,GAAC,CAAjB,GAAqBiB,IAAI,GAAC,CAA1B,GAA8B,CAAvC,CAAX;AACH;;AAED,WAASC,IAAT,CAAcjB,GAAd,EAAkB;AACdG,IAAAA,WAAW,CAACa,IAAI,KAAK;AACjBH,MAAAA,CAAC,EAAEG,IAAI,CAACH,CAAL,GAAOD,QAAQ,CAACZ,GAAD,CAAR,CAAca,CADP;AAEjBC,MAAAA,CAAC,EAAEE,IAAI,CAACF,CAAL,GAAOF,QAAQ,CAACZ,GAAD,CAAR,CAAcc;AAFP,KAAL,CAAL,CAAX;AAIH;;AAED,SAAM;AACFC,IAAAA,SADE;AAEFf,IAAAA,GAFE;AAGFI,IAAAA,QAHE;AAIFF,IAAAA;AAJE,GAAN;AAQH;;GApDuBJ,W","sourcesContent":["import {useState} from \"react\";\r\n\r\n\r\nexport default function useMovement(maxMovement){\r\n    const [dir, setDir] = useState(0);\r\n    const [position, setPosition] = useState(0);\r\n    const [movement, setMovement] = useState(0);\r\n\r\n    const directions = {\r\n        up: 0,\r\n        left: 1,\r\n        right: 2,\r\n        down: 3,\r\n    }\r\n\r\n    const movementsSize = 16;\r\n\r\n    const modifier = {\r\n        up:{\r\n            x:0, y: movementsSize\r\n        },\r\n        left: {\r\n            x:-movementsSize, y: 0\r\n        },\r\n        right: {\r\n            x:0, movementsSize\r\n        },\r\n        down: {\r\n            x:0, y:-movementsSize\r\n        }\r\n    }\r\n\r\n    function movements(dir){\r\n        setDir(prev => {\r\n            if(directions[dir] === prev) move(dir);\r\n            return directions[dir];\r\n        });\r\n        setMovement(prev => prev<maxMovement-1 ? prev+1 : 0);\r\n    }\r\n\r\n    function move(dir){\r\n        setPosition(prev => ({\r\n            x: prev.x+modifier[dir].x,\r\n            y: prev.y+modifier[dir].y,\r\n        }));\r\n    }\r\n\r\n    return{\r\n        movements,\r\n        dir,\r\n        movement,\r\n        position,\r\n        \r\n    }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}